<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Basic usage &mdash; mass-composition  documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/sg_gallery.css" type="text/css" />
      <link rel="stylesheet" href="../_static/sg_gallery-binder.css" type="text/css" />
      <link rel="stylesheet" href="../_static/sg_gallery-dataframe.css" type="text/css" />
      <link rel="stylesheet" href="../_static/sg_gallery-rendered-html.css" type="text/css" />
      <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/sphinx_highlight.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Datasets and Sample Data" href="002_data_examples.html" />
    <link rel="prev" title="Example Gallery" href="index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            mass-composition
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../usage/installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../usage/quickstart.html">Quick Start Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../usage/troubleshooting.html">Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user_guide/user_guide.html">User Guide</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Example Gallery</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Basic usage</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#create-a-masscomposition-object">Create a MassComposition object</a></li>
<li class="toctree-l3"><a class="reference internal" href="#demonstrate-the-aggregate-method">Demonstrate the aggregate method</a></li>
<li class="toctree-l3"><a class="reference internal" href="#filter-the-object">Filter the object</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="002_data_examples.html">Datasets and Sample Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="003_constrain.html">Constrain</a></li>
<li class="toctree-l2"><a class="reference internal" href="004_plot_demo.html">Plot Demo</a></li>
<li class="toctree-l2"><a class="reference internal" href="104_math_operations.html">Math Operations</a></li>
<li class="toctree-l2"><a class="reference internal" href="105_create_network.html">Create Network</a></li>
<li class="toctree-l2"><a class="reference internal" href="106_network_basics.html">Network Basics</a></li>
<li class="toctree-l2"><a class="reference internal" href="107_filtering.html">Filtering</a></li>
<li class="toctree-l2"><a class="reference internal" href="108_sankey_plots.html">Sankey Plots</a></li>
<li class="toctree-l2"><a class="reference internal" href="109_split_and_partition.html">Splitting and Partitioning Objects</a></li>
<li class="toctree-l2"><a class="reference internal" href="110_network_layouts.html">Network Layouts</a></li>
<li class="toctree-l2"><a class="reference internal" href="111_constraints_and_status.html">Constraints and Status</a></li>
<li class="toctree-l2"><a class="reference internal" href="112_compare.html">Compare</a></li>
<li class="toctree-l2"><a class="reference internal" href="113_partition_models.html">Partition Models</a></li>
<li class="toctree-l2"><a class="reference internal" href="114_compare_partitions.html">Compare Partition Separations</a></li>
<li class="toctree-l2"><a class="reference internal" href="115_simplify_network.html">Simplify a Network</a></li>
<li class="toctree-l2"><a class="reference internal" href="200_interval_data.html">Interval Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="201_incremental_separation.html">Incremental Separation</a></li>
<li class="toctree-l2"><a class="reference internal" href="202_interval_data_advanced.html">Interval Data - Advanced</a></li>
<li class="toctree-l2"><a class="reference internal" href="300_interval_data_sink_float.html">Interval Data - Sink Float</a></li>
<li class="toctree-l2"><a class="reference internal" href="400_mass_balancing.html">Mass Balancing</a></li>
<li class="toctree-l2"><a class="reference internal" href="502_dag.html">DAG to Define and Simulate</a></li>
<li class="toctree-l2"><a class="reference internal" href="503_dag_with_partitions.html">DAG with Partitions</a></li>
<li class="toctree-l2"><a class="reference internal" href="504_dag_with_estimator.html">DAG with Estimator</a></li>
<li class="toctree-l2"><a class="reference internal" href="_501_simulating_networks.html">Simulating a Network in Parallel</a></li>
<li class="toctree-l2"><a class="reference internal" href="_simulating_network_functions.html">Network Simulation Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="grade_tonnage.html">Grade Tonnage</a></li>
<li class="toctree-l2"><a class="reference internal" href="iron_ore_assays.html">Iron Ore Assays</a></li>
<li class="toctree-l2"><a class="reference internal" href="resampling_interval_data.html">Resampling Interval Data</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="index.html#xarray-gallery">Xarray Gallery</a></li>
<li class="toctree-l1"><a class="reference internal" href="../datasets/datasets.html">Datasets</a></li>
<li class="toctree-l1"><a class="reference internal" href="../glossary/glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/modules.html">API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../license/license.html">License</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">mass-composition</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="index.html">Example Gallery</a></li>
      <li class="breadcrumb-item active">Basic usage</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/auto_examples/001_basic_usage.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="sphx-glr-download-link-note admonition note">
<p class="admonition-title">Note</p>
<p>Click <a class="reference internal" href="#sphx-glr-download-auto-examples-001-basic-usage-py"><span class="std std-ref">here</span></a>
to download the full example code</p>
</div>
<section class="sphx-glr-example-title" id="basic-usage">
<span id="sphx-glr-auto-examples-001-basic-usage-py"></span><h1>Basic usage<a class="headerlink" href="#basic-usage" title="Permalink to this heading"></a></h1>
<p>A simple example demonstrating how to use mass-composition.</p>
<p>Design notes:
Once data is loaded chemical analyte names and H2O will conform to the internal standard.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="kn">from</span> <span class="nn">elphick.mass_composition</span> <span class="kn">import</span> <span class="n">MassComposition</span>
<span class="kn">from</span> <span class="nn">elphick.mass_composition.datasets.sample_data</span> <span class="kn">import</span> <span class="n">sample_data</span>
</pre></div>
</div>
<section id="create-a-masscomposition-object">
<h2>Create a MassComposition object<a class="headerlink" href="#create-a-masscomposition-object" title="Permalink to this heading"></a></h2>
<p>We get some demo data in the form of a pandas DataFrame</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">df_data</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span> <span class="o">=</span> <span class="n">sample_data</span><span class="p">()</span>
<span class="n">df_data</span>
</pre></div>
</div>
<div class="output_subarea output_html rendered_html output_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>wet_mass</th>
      <th>mass_dry</th>
      <th>FE</th>
      <th>SIO2</th>
      <th>al2o3</th>
      <th>LOI</th>
      <th>group</th>
    </tr>
    <tr>
      <th>index</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>100.0</td>
      <td>90.0</td>
      <td>57.0</td>
      <td>5.2</td>
      <td>3.0</td>
      <td>5.0</td>
      <td>grp_1</td>
    </tr>
    <tr>
      <th>1</th>
      <td>90.0</td>
      <td>80.0</td>
      <td>59.0</td>
      <td>3.1</td>
      <td>1.7</td>
      <td>4.0</td>
      <td>grp_1</td>
    </tr>
    <tr>
      <th>2</th>
      <td>110.0</td>
      <td>90.0</td>
      <td>61.0</td>
      <td>2.2</td>
      <td>0.9</td>
      <td>3.0</td>
      <td>grp_2</td>
    </tr>
  </tbody>
</table>
</div>
</div>
<br />
<br /><p>Construct a MassComposition object</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">obj_mc</span><span class="p">:</span> <span class="n">MassComposition</span> <span class="o">=</span> <span class="n">MassComposition</span><span class="p">(</span><span class="n">df_data</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">obj_mc</span><span class="p">)</span>
</pre></div>
</div>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>unnamed
&lt;xarray.Dataset&gt; Size: 216B
Dimensions:   (index: 3)
Coordinates:
  * index     (index) int64 24B 0 1 2
Data variables:
    mass_wet  (index) float64 24B 100.0 90.0 110.0
    mass_dry  (index) float64 24B 90.0 80.0 90.0
    H2O       (index) float64 24B 10.0 11.11 18.18
    Fe        (index) float64 24B 57.0 59.0 61.0
    SiO2      (index) float64 24B 5.2 3.1 2.2
    Al2O3     (index) float64 24B 3.0 1.7 0.9
    LOI       (index) float64 24B 5.0 4.0 3.0
    group     (index) object 24B &#39;grp_1&#39; &#39;grp_1&#39; &#39;grp_2&#39;
Attributes:
    mc_name:            unnamed
    mc_vars_mass:       [&#39;mass_wet&#39;, &#39;mass_dry&#39;]
    mc_vars_chem:       [&#39;Fe&#39;, &#39;SiO2&#39;, &#39;Al2O3&#39;, &#39;LOI&#39;]
    mc_vars_attrs:      [&#39;group&#39;]
    mc_interval_edges:  {}
</pre></div>
</div>
</section>
<section id="demonstrate-the-aggregate-method">
<h2>Demonstrate the aggregate method<a class="headerlink" href="#demonstrate-the-aggregate-method" title="Permalink to this heading"></a></h2>
<p>i.e. weight average of the dataset, a.k.a. head grade</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">obj_mc</span><span class="o">.</span><span class="n">aggregate</span><span class="p">()</span>
</pre></div>
</div>
<div class="output_subarea output_html rendered_html output_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>mass_wet</th>
      <th>mass_dry</th>
      <th>H2O</th>
      <th>Fe</th>
      <th>SiO2</th>
      <th>Al2O3</th>
      <th>LOI</th>
    </tr>
    <tr>
      <th>name</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>unnamed</th>
      <td>300.0</td>
      <td>260.0</td>
      <td>13.333333</td>
      <td>59.0</td>
      <td>3.515385</td>
      <td>1.873077</td>
      <td>4.0</td>
    </tr>
  </tbody>
</table>
</div>
</div>
<br />
<br /><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">obj_mc</span><span class="o">.</span><span class="n">aggregate</span><span class="p">(</span><span class="n">as_dataframe</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
<div class="output_subarea output_html rendered_html output_result">
<div><svg style="position: absolute; width: 0; height: 0; overflow: hidden">
<defs>
<symbol id="icon-database" viewBox="0 0 32 32">
<path d="M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z"></path>
<path d="M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
<path d="M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
</symbol>
<symbol id="icon-file-text2" viewBox="0 0 32 32">
<path d="M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z"></path>
<path d="M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
</symbol>
</defs>
</svg>
<style>/* CSS stylesheet for displaying xarray objects in jupyterlab.
 *
 */

:root {
  --xr-font-color0: var(--jp-content-font-color0, rgba(0, 0, 0, 1));
  --xr-font-color2: var(--jp-content-font-color2, rgba(0, 0, 0, 0.54));
  --xr-font-color3: var(--jp-content-font-color3, rgba(0, 0, 0, 0.38));
  --xr-border-color: var(--jp-border-color2, #e0e0e0);
  --xr-disabled-color: var(--jp-layout-color3, #bdbdbd);
  --xr-background-color: var(--jp-layout-color0, white);
  --xr-background-color-row-even: var(--jp-layout-color1, white);
  --xr-background-color-row-odd: var(--jp-layout-color2, #eeeeee);
}

html[theme=dark],
body[data-theme=dark],
body.vscode-dark {
  --xr-font-color0: rgba(255, 255, 255, 1);
  --xr-font-color2: rgba(255, 255, 255, 0.54);
  --xr-font-color3: rgba(255, 255, 255, 0.38);
  --xr-border-color: #1F1F1F;
  --xr-disabled-color: #515151;
  --xr-background-color: #111111;
  --xr-background-color-row-even: #111111;
  --xr-background-color-row-odd: #313131;
}

.xr-wrap {
  display: block !important;
  min-width: 300px;
  max-width: 700px;
}

.xr-text-repr-fallback {
  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */
  display: none;
}

.xr-header {
  padding-top: 6px;
  padding-bottom: 6px;
  margin-bottom: 4px;
  border-bottom: solid 1px var(--xr-border-color);
}

.xr-header > div,
.xr-header > ul {
  display: inline;
  margin-top: 0;
  margin-bottom: 0;
}

.xr-obj-type,
.xr-array-name {
  margin-left: 2px;
  margin-right: 10px;
}

.xr-obj-type {
  color: var(--xr-font-color2);
}

.xr-sections {
  padding-left: 0 !important;
  display: grid;
  grid-template-columns: 150px auto auto 1fr 20px 20px;
}

.xr-section-item {
  display: contents;
}

.xr-section-item input {
  display: none;
}

.xr-section-item input + label {
  color: var(--xr-disabled-color);
}

.xr-section-item input:enabled + label {
  cursor: pointer;
  color: var(--xr-font-color2);
}

.xr-section-item input:enabled + label:hover {
  color: var(--xr-font-color0);
}

.xr-section-summary {
  grid-column: 1;
  color: var(--xr-font-color2);
  font-weight: 500;
}

.xr-section-summary > span {
  display: inline-block;
  padding-left: 0.5em;
}

.xr-section-summary-in:disabled + label {
  color: var(--xr-font-color2);
}

.xr-section-summary-in + label:before {
  display: inline-block;
  content: '►';
  font-size: 11px;
  width: 15px;
  text-align: center;
}

.xr-section-summary-in:disabled + label:before {
  color: var(--xr-disabled-color);
}

.xr-section-summary-in:checked + label:before {
  content: '▼';
}

.xr-section-summary-in:checked + label > span {
  display: none;
}

.xr-section-summary,
.xr-section-inline-details {
  padding-top: 4px;
  padding-bottom: 4px;
}

.xr-section-inline-details {
  grid-column: 2 / -1;
}

.xr-section-details {
  display: none;
  grid-column: 1 / -1;
  margin-bottom: 5px;
}

.xr-section-summary-in:checked ~ .xr-section-details {
  display: contents;
}

.xr-array-wrap {
  grid-column: 1 / -1;
  display: grid;
  grid-template-columns: 20px auto;
}

.xr-array-wrap > label {
  grid-column: 1;
  vertical-align: top;
}

.xr-preview {
  color: var(--xr-font-color3);
}

.xr-array-preview,
.xr-array-data {
  padding: 0 5px !important;
  grid-column: 2;
}

.xr-array-data,
.xr-array-in:checked ~ .xr-array-preview {
  display: none;
}

.xr-array-in:checked ~ .xr-array-data,
.xr-array-preview {
  display: inline-block;
}

.xr-dim-list {
  display: inline-block !important;
  list-style: none;
  padding: 0 !important;
  margin: 0;
}

.xr-dim-list li {
  display: inline-block;
  padding: 0;
  margin: 0;
}

.xr-dim-list:before {
  content: '(';
}

.xr-dim-list:after {
  content: ')';
}

.xr-dim-list li:not(:last-child):after {
  content: ',';
  padding-right: 5px;
}

.xr-has-index {
  font-weight: bold;
}

.xr-var-list,
.xr-var-item {
  display: contents;
}

.xr-var-item > div,
.xr-var-item label,
.xr-var-item > .xr-var-name span {
  background-color: var(--xr-background-color-row-even);
  margin-bottom: 0;
}

.xr-var-item > .xr-var-name:hover span {
  padding-right: 5px;
}

.xr-var-list > li:nth-child(odd) > div,
.xr-var-list > li:nth-child(odd) > label,
.xr-var-list > li:nth-child(odd) > .xr-var-name span {
  background-color: var(--xr-background-color-row-odd);
}

.xr-var-name {
  grid-column: 1;
}

.xr-var-dims {
  grid-column: 2;
}

.xr-var-dtype {
  grid-column: 3;
  text-align: right;
  color: var(--xr-font-color2);
}

.xr-var-preview {
  grid-column: 4;
}

.xr-index-preview {
  grid-column: 2 / 5;
  color: var(--xr-font-color2);
}

.xr-var-name,
.xr-var-dims,
.xr-var-dtype,
.xr-preview,
.xr-attrs dt {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  padding-right: 10px;
}

.xr-var-name:hover,
.xr-var-dims:hover,
.xr-var-dtype:hover,
.xr-attrs dt:hover {
  overflow: visible;
  width: auto;
  z-index: 1;
}

.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  display: none;
  background-color: var(--xr-background-color) !important;
  padding-bottom: 5px !important;
}

.xr-var-attrs-in:checked ~ .xr-var-attrs,
.xr-var-data-in:checked ~ .xr-var-data,
.xr-index-data-in:checked ~ .xr-index-data {
  display: block;
}

.xr-var-data > table {
  float: right;
}

.xr-var-name span,
.xr-var-data,
.xr-index-name div,
.xr-index-data,
.xr-attrs {
  padding-left: 25px !important;
}

.xr-attrs,
.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  grid-column: 1 / -1;
}

dl.xr-attrs {
  padding: 0;
  margin: 0;
  display: grid;
  grid-template-columns: 125px auto;
}

.xr-attrs dt,
.xr-attrs dd {
  padding: 0;
  margin: 0;
  float: left;
  padding-right: 10px;
  width: auto;
}

.xr-attrs dt {
  font-weight: normal;
  grid-column: 1;
}

.xr-attrs dt:hover span {
  display: inline-block;
  background: var(--xr-background-color);
  padding-right: 10px;
}

.xr-attrs dd {
  grid-column: 2;
  white-space: pre-wrap;
  word-break: break-all;
}

.xr-icon-database,
.xr-icon-file-text2,
.xr-no-icon {
  display: inline-block;
  vertical-align: middle;
  width: 1em;
  height: 1.5em !important;
  stroke-width: 0;
  stroke: currentColor;
  fill: currentColor;
}
</style><pre class='xr-text-repr-fallback'>&lt;xarray.Dataset&gt; Size: 56B
Dimensions:   (index: 1)
Dimensions without coordinates: index
Data variables:
    mass_wet  (index) float64 8B 300.0
    mass_dry  (index) float64 8B 260.0
    H2O       (index) float64 8B 13.33
    Fe        (index) float64 8B 59.0
    SiO2      (index) float64 8B 3.515
    Al2O3     (index) float64 8B 1.873
    LOI       (index) float64 8B 4.0
Attributes:
    mc_name:            Aggregate of unnamed
    mc_vars_mass:       [&#x27;mass_wet&#x27;, &#x27;mass_dry&#x27;]
    mc_vars_chem:       [&#x27;Fe&#x27;, &#x27;SiO2&#x27;, &#x27;Al2O3&#x27;, &#x27;LOI&#x27;]
    mc_vars_attrs:      []
    mc_interval_edges:  {}</pre><div class='xr-wrap' style='display:none'><div class='xr-header'><div class='xr-obj-type'>xarray.Dataset</div></div><ul class='xr-sections'><li class='xr-section-item'><input id='section-f504bef4-46a2-44c6-9e11-e8521523e411' class='xr-section-summary-in' type='checkbox' disabled ><label for='section-f504bef4-46a2-44c6-9e11-e8521523e411' class='xr-section-summary'  title='Expand/collapse section'>Dimensions:</label><div class='xr-section-inline-details'><ul class='xr-dim-list'><li><span>index</span>: 1</li></ul></div><div class='xr-section-details'></div></li><li class='xr-section-item'><input id='section-5e509c95-8882-49de-bad5-874cc5b06eff' class='xr-section-summary-in' type='checkbox' disabled ><label for='section-5e509c95-8882-49de-bad5-874cc5b06eff' class='xr-section-summary'  title='Expand/collapse section'>Coordinates: <span>(0)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'></ul></div></li><li class='xr-section-item'><input id='section-33ca3207-a9d9-447c-a162-1cc0e5a6c0c5' class='xr-section-summary-in' type='checkbox'  checked><label for='section-33ca3207-a9d9-447c-a162-1cc0e5a6c0c5' class='xr-section-summary' >Data variables: <span>(7)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span>mass_wet</span></div><div class='xr-var-dims'>(index)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>300.0</div><input id='attrs-140c7e72-a618-43b5-b726-86a946789f2b' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-140c7e72-a618-43b5-b726-86a946789f2b' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-91ad711f-989d-401a-886e-58c1d7b10649' class='xr-var-data-in' type='checkbox'><label for='data-91ad711f-989d-401a-886e-58c1d7b10649' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>units :</span></dt><dd>mass_units</dd><dt><span>standard_name :</span></dt><dd>Wet Mass</dd><dt><span>mc_type :</span></dt><dd>mass</dd><dt><span>mc_col_orig :</span></dt><dd>wet_mass</dd></dl></div><div class='xr-var-data'><pre>array([300.])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>mass_dry</span></div><div class='xr-var-dims'>(index)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>260.0</div><input id='attrs-306982c2-aa9b-4236-98ba-5bf4da4b6e98' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-306982c2-aa9b-4236-98ba-5bf4da4b6e98' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-a8f95ba9-b9ed-4a53-927e-7b22a23dffe8' class='xr-var-data-in' type='checkbox'><label for='data-a8f95ba9-b9ed-4a53-927e-7b22a23dffe8' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>units :</span></dt><dd>mass_units</dd><dt><span>standard_name :</span></dt><dd>Dry Mass</dd><dt><span>mc_type :</span></dt><dd>mass</dd><dt><span>mc_col_orig :</span></dt><dd>mass_dry</dd></dl></div><div class='xr-var-data'><pre>array([260.])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>H2O</span></div><div class='xr-var-dims'>(index)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>13.33</div><input id='attrs-e3aa3670-216a-426e-8e6e-86e82bece212' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-e3aa3670-216a-426e-8e6e-86e82bece212' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-995a39eb-5775-4a86-87ce-4fc9d507da2c' class='xr-var-data-in' type='checkbox'><label for='data-995a39eb-5775-4a86-87ce-4fc9d507da2c' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>units :</span></dt><dd>%</dd><dt><span>standard_name :</span></dt><dd>H2O</dd><dt><span>mc_type :</span></dt><dd>moisture</dd><dt><span>mc_col_orig :</span></dt><dd>H2O</dd></dl></div><div class='xr-var-data'><pre>array([13.33333333])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>Fe</span></div><div class='xr-var-dims'>(index)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>59.0</div><input id='attrs-5db7af44-dd81-45c8-b6f8-89e4d8ad104b' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-5db7af44-dd81-45c8-b6f8-89e4d8ad104b' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-4c1ac277-93ea-42e0-b0b5-98e7e0069d5d' class='xr-var-data-in' type='checkbox'><label for='data-4c1ac277-93ea-42e0-b0b5-98e7e0069d5d' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>units :</span></dt><dd>%</dd><dt><span>standard_name :</span></dt><dd>Fe</dd><dt><span>mc_type :</span></dt><dd>chemistry</dd><dt><span>mc_col_orig :</span></dt><dd>FE</dd></dl></div><div class='xr-var-data'><pre>array([59.])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>SiO2</span></div><div class='xr-var-dims'>(index)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>3.515</div><input id='attrs-f71cba26-6d17-4f28-829a-c284590a6dc1' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-f71cba26-6d17-4f28-829a-c284590a6dc1' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-c06f4013-f9b9-4c05-93bb-b5cc4a2fca56' class='xr-var-data-in' type='checkbox'><label for='data-c06f4013-f9b9-4c05-93bb-b5cc4a2fca56' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>units :</span></dt><dd>%</dd><dt><span>standard_name :</span></dt><dd>SiO2</dd><dt><span>mc_type :</span></dt><dd>chemistry</dd><dt><span>mc_col_orig :</span></dt><dd>SIO2</dd></dl></div><div class='xr-var-data'><pre>array([3.51538462])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>Al2O3</span></div><div class='xr-var-dims'>(index)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>1.873</div><input id='attrs-8d907cc2-12d6-48d8-9984-976dfea1e336' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-8d907cc2-12d6-48d8-9984-976dfea1e336' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-1f375472-ace4-407c-b1f6-7e5654bf4cee' class='xr-var-data-in' type='checkbox'><label for='data-1f375472-ace4-407c-b1f6-7e5654bf4cee' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>units :</span></dt><dd>%</dd><dt><span>standard_name :</span></dt><dd>Al2O3</dd><dt><span>mc_type :</span></dt><dd>chemistry</dd><dt><span>mc_col_orig :</span></dt><dd>al2o3</dd></dl></div><div class='xr-var-data'><pre>array([1.87307692])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>LOI</span></div><div class='xr-var-dims'>(index)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>4.0</div><input id='attrs-8cc42f38-64ae-4b99-a074-159ab58ed16a' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-8cc42f38-64ae-4b99-a074-159ab58ed16a' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-fba01a73-7b5d-4440-9c9a-820b8cdc2b31' class='xr-var-data-in' type='checkbox'><label for='data-fba01a73-7b5d-4440-9c9a-820b8cdc2b31' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>units :</span></dt><dd>%</dd><dt><span>standard_name :</span></dt><dd>LOI</dd><dt><span>mc_type :</span></dt><dd>chemistry</dd><dt><span>mc_col_orig :</span></dt><dd>LOI</dd></dl></div><div class='xr-var-data'><pre>array([4.])</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-6ceced96-9057-4b65-bd58-43a8b70b52f8' class='xr-section-summary-in' type='checkbox' disabled ><label for='section-6ceced96-9057-4b65-bd58-43a8b70b52f8' class='xr-section-summary'  title='Expand/collapse section'>Indexes: <span>(0)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'></ul></div></li><li class='xr-section-item'><input id='section-3954b348-ee19-4025-98d7-92adfb3d4014' class='xr-section-summary-in' type='checkbox'  checked><label for='section-3954b348-ee19-4025-98d7-92adfb3d4014' class='xr-section-summary' >Attributes: <span>(5)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><dl class='xr-attrs'><dt><span>mc_name :</span></dt><dd>Aggregate of unnamed</dd><dt><span>mc_vars_mass :</span></dt><dd>[&#x27;mass_wet&#x27;, &#x27;mass_dry&#x27;]</dd><dt><span>mc_vars_chem :</span></dt><dd>[&#x27;Fe&#x27;, &#x27;SiO2&#x27;, &#x27;Al2O3&#x27;, &#x27;LOI&#x27;]</dd><dt><span>mc_vars_attrs :</span></dt><dd>[]</dd><dt><span>mc_interval_edges :</span></dt><dd>{}</dd></dl></div></li></ul></div></div>
</div>
<br />
<br /><p>Aggregate by a group variable</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">obj_mc</span><span class="o">.</span><span class="n">aggregate</span><span class="p">(</span><span class="n">group_var</span><span class="o">=</span><span class="s1">&#39;group&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="output_subarea output_html rendered_html output_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>mass_wet</th>
      <th>mass_dry</th>
      <th>H2O</th>
      <th>Fe</th>
      <th>SiO2</th>
      <th>Al2O3</th>
      <th>LOI</th>
    </tr>
    <tr>
      <th>group</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>grp_1</th>
      <td>190.0</td>
      <td>170.0</td>
      <td>10.526316</td>
      <td>57.941176</td>
      <td>4.211765</td>
      <td>2.388235</td>
      <td>4.529412</td>
    </tr>
    <tr>
      <th>grp_2</th>
      <td>110.0</td>
      <td>90.0</td>
      <td>18.181818</td>
      <td>61.000000</td>
      <td>2.200000</td>
      <td>0.900000</td>
      <td>3.000000</td>
    </tr>
  </tbody>
</table>
</div>
</div>
<br />
<br /></section>
<section id="filter-the-object">
<h2>Filter the object<a class="headerlink" href="#filter-the-object" title="Permalink to this heading"></a></h2>
<p>Filter with a criteria, just like pandas</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">obj_mc</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">queries</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;index&#39;</span><span class="p">:</span> <span class="s1">&#39;Fe&gt;58&#39;</span><span class="p">})</span><span class="o">.</span><span class="n">aggregate</span><span class="p">()</span>
</pre></div>
</div>
<div class="output_subarea output_html rendered_html output_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>mass_wet</th>
      <th>mass_dry</th>
      <th>H2O</th>
      <th>Fe</th>
      <th>SiO2</th>
      <th>Al2O3</th>
      <th>LOI</th>
    </tr>
    <tr>
      <th>name</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>unnamed</th>
      <td>200.0</td>
      <td>170.0</td>
      <td>15.0</td>
      <td>60.058824</td>
      <td>2.623529</td>
      <td>1.276471</td>
      <td>3.470588</td>
    </tr>
  </tbody>
</table>
</div>
</div>
<br />
<br /><p class="sphx-glr-timing"><strong>Total running time of the script:</strong> ( 0 minutes  0.151 seconds)</p>
<div class="sphx-glr-footer sphx-glr-footer-example docutils container" id="sphx-glr-download-auto-examples-001-basic-usage-py">
<div class="sphx-glr-download sphx-glr-download-python docutils container">
<p><a class="reference download internal" download="" href="../_downloads/cf80240f533aaee288143dd1b6dc85b2/001_basic_usage.py"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Python</span> <span class="pre">source</span> <span class="pre">code:</span> <span class="pre">001_basic_usage.py</span></code></a></p>
</div>
<div class="sphx-glr-download sphx-glr-download-jupyter docutils container">
<p><a class="reference download internal" download="" href="../_downloads/4d21ef57080a3fcc1259455cb566b9bb/001_basic_usage.ipynb"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Jupyter</span> <span class="pre">notebook:</span> <span class="pre">001_basic_usage.ipynb</span></code></a></p>
</div>
</div>
<p class="sphx-glr-signature"><a class="reference external" href="https://sphinx-gallery.github.io">Gallery generated by Sphinx-Gallery</a></p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="index.html" class="btn btn-neutral float-left" title="Example Gallery" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="002_data_examples.html" class="btn btn-neutral float-right" title="Datasets and Sample Data" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, Greg Elphick.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>