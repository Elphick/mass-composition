<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Resampling Interval Data &mdash; mass-composition  documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/sg_gallery.css" type="text/css" />
      <link rel="stylesheet" href="../_static/sg_gallery-binder.css" type="text/css" />
      <link rel="stylesheet" href="../_static/sg_gallery-dataframe.css" type="text/css" />
      <link rel="stylesheet" href="../_static/sg_gallery-rendered-html.css" type="text/css" />
      <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/sphinx_highlight.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Xarray Gallery" href="xarray_examples/index.html" />
    <link rel="prev" title="Iron Ore Assays" href="iron_ore_assays.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            mass-composition
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../usage/installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../usage/quickstart.html">Quick Start Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../usage/troubleshooting.html">Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user_guide/user_guide.html">User Guide</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Example Gallery</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="001_basic_usage.html">Basic usage</a></li>
<li class="toctree-l2"><a class="reference internal" href="002_data_examples.html">Datasets and Sample Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="003_constrain.html">Constrain</a></li>
<li class="toctree-l2"><a class="reference internal" href="004_plot_demo.html">Plot Demo</a></li>
<li class="toctree-l2"><a class="reference internal" href="104_math_operations.html">Math Operations</a></li>
<li class="toctree-l2"><a class="reference internal" href="105_create_network.html">Create Network</a></li>
<li class="toctree-l2"><a class="reference internal" href="106_network_basics.html">Network Basics</a></li>
<li class="toctree-l2"><a class="reference internal" href="107_filtering.html">Filtering</a></li>
<li class="toctree-l2"><a class="reference internal" href="108_sankey_plots.html">Sankey Plots</a></li>
<li class="toctree-l2"><a class="reference internal" href="109_split_and_partition.html">Splitting and Partitioning Objects</a></li>
<li class="toctree-l2"><a class="reference internal" href="110_network_layouts.html">Network Layouts</a></li>
<li class="toctree-l2"><a class="reference internal" href="111_constraints_and_status.html">Constraints and Status</a></li>
<li class="toctree-l2"><a class="reference internal" href="112_compare.html">Compare</a></li>
<li class="toctree-l2"><a class="reference internal" href="113_partition_models.html">Partition Models</a></li>
<li class="toctree-l2"><a class="reference internal" href="114_compare_partitions.html">Compare Partition Separations</a></li>
<li class="toctree-l2"><a class="reference internal" href="115_simplify_network.html">Simplify a Network</a></li>
<li class="toctree-l2"><a class="reference internal" href="200_interval_data.html">Interval Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="201_incremental_separation.html">Incremental Separation</a></li>
<li class="toctree-l2"><a class="reference internal" href="202_interval_data_advanced.html">Interval Data - Advanced</a></li>
<li class="toctree-l2"><a class="reference internal" href="300_interval_data_sink_float.html">Interval Data - Sink Float</a></li>
<li class="toctree-l2"><a class="reference internal" href="400_mass_balancing.html">Mass Balancing</a></li>
<li class="toctree-l2"><a class="reference internal" href="502_dag.html">DAG to Define and Simulate</a></li>
<li class="toctree-l2"><a class="reference internal" href="503_dag_with_partitions.html">DAG with Partitions</a></li>
<li class="toctree-l2"><a class="reference internal" href="504_dag_with_estimator.html">DAG with Estimator</a></li>
<li class="toctree-l2"><a class="reference internal" href="_501_simulating_networks.html">Simulating a Network in Parallel</a></li>
<li class="toctree-l2"><a class="reference internal" href="_simulating_network_functions.html">Network Simulation Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="grade_tonnage.html">Grade Tonnage</a></li>
<li class="toctree-l2"><a class="reference internal" href="iron_ore_assays.html">Iron Ore Assays</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Resampling Interval Data</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#create-a-masscomposition-object">Create a MassComposition object</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="index.html#xarray-gallery">Xarray Gallery</a></li>
<li class="toctree-l1"><a class="reference internal" href="../datasets/datasets.html">Datasets</a></li>
<li class="toctree-l1"><a class="reference internal" href="../glossary/glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/modules.html">API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../license/license.html">License</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">mass-composition</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="index.html">Example Gallery</a></li>
      <li class="breadcrumb-item active">Resampling Interval Data</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/auto_examples/resampling_interval_data.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="sphx-glr-download-link-note admonition note">
<p class="admonition-title">Note</p>
<p>Click <a class="reference internal" href="#sphx-glr-download-auto-examples-resampling-interval-data-py"><span class="std std-ref">here</span></a>
to download the full example code</p>
</div>
<section class="sphx-glr-example-title" id="resampling-interval-data">
<span id="sphx-glr-auto-examples-resampling-interval-data-py"></span><h1>Resampling Interval Data<a class="headerlink" href="#resampling-interval-data" title="Permalink to this heading">ÔÉÅ</a></h1>
<p>Interval (or fractional) data is common in metallurgy and mineral processing.  Samples are sized using sieves
in a laboratory and each resultant fraction is often assayed to determine chemical composition.
The typical nomenclature is of the interval edges is size_retained, size passing - any particle within an interval
or fraction was retained by the lower sieve size, but passed the sieve size above it.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">logging</span>

<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">plotly</span>

<span class="kn">from</span> <span class="nn">elphick.mass_composition</span> <span class="kn">import</span> <span class="n">MassComposition</span>
<span class="kn">from</span> <span class="nn">elphick.mass_composition.datasets.sample_data</span> <span class="kn">import</span> <span class="n">size_by_assay</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">logging</span><span class="o">.</span><span class="n">basicConfig</span><span class="p">(</span><span class="n">level</span><span class="o">=</span><span class="n">logging</span><span class="o">.</span><span class="n">INFO</span><span class="p">,</span>
                    <span class="nb">format</span><span class="o">=</span><span class="s1">&#39;</span><span class="si">%(asctime)s</span><span class="s1"> </span><span class="si">%(levelname)s</span><span class="s1"> </span><span class="si">%(module)s</span><span class="s1"> - </span><span class="si">%(funcName)s</span><span class="s1">: </span><span class="si">%(message)s</span><span class="s1">&#39;</span><span class="p">,</span>
                    <span class="n">datefmt</span><span class="o">=</span><span class="s1">&#39;%Y-%m-</span><span class="si">%d</span><span class="s1">T%H:%M:%S%z&#39;</span><span class="p">,</span>
                    <span class="p">)</span>
</pre></div>
</div>
<section id="create-a-masscomposition-object">
<h2>Create a MassComposition object<a class="headerlink" href="#create-a-masscomposition-object" title="Permalink to this heading">ÔÉÅ</a></h2>
<p>We get some demo data in the form of a pandas DataFrame
We create this object as 1D based on the pandas index</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">df_data</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span> <span class="o">=</span> <span class="n">size_by_assay</span><span class="p">()</span>
<span class="n">df_data</span>
</pre></div>
</div>
<div class="output_subarea output_html rendered_html output_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th></th>
      <th>mass_dry</th>
      <th>fe</th>
      <th>sio2</th>
      <th>al2o3</th>
    </tr>
    <tr>
      <th>size_retained</th>
      <th>size_passing</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0.850</th>
      <th>2.000</th>
      <td>3.3</td>
      <td>64.15</td>
      <td>2.04</td>
      <td>2.68</td>
    </tr>
    <tr>
      <th>0.500</th>
      <th>0.850</th>
      <td>9.9</td>
      <td>64.33</td>
      <td>2.05</td>
      <td>2.23</td>
    </tr>
    <tr>
      <th>0.150</th>
      <th>0.500</th>
      <td>26.5</td>
      <td>64.52</td>
      <td>1.84</td>
      <td>2.19</td>
    </tr>
    <tr>
      <th>0.075</th>
      <th>0.150</th>
      <td>2.5</td>
      <td>62.65</td>
      <td>2.88</td>
      <td>3.32</td>
    </tr>
    <tr>
      <th>0.045</th>
      <th>0.075</th>
      <td>8.8</td>
      <td>62.81</td>
      <td>2.12</td>
      <td>2.25</td>
    </tr>
    <tr>
      <th>0.000</th>
      <th>0.045</th>
      <td>49.0</td>
      <td>55.95</td>
      <td>6.39</td>
      <td>6.34</td>
    </tr>
  </tbody>
</table>
</div>
</div>
<br />
<br /><p>The size index is of the Interval type, maintaining the fractional information.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mc_size</span><span class="p">:</span> <span class="n">MassComposition</span> <span class="o">=</span> <span class="n">MassComposition</span><span class="p">(</span><span class="n">df_data</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;Sample&#39;</span><span class="p">)</span>
<span class="n">mc_size</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">to_dataframe</span><span class="p">()</span>
</pre></div>
</div>
<div class="output_subarea output_html rendered_html output_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>mass_wet</th>
      <th>mass_dry</th>
      <th>H2O</th>
      <th>Fe</th>
      <th>SiO2</th>
      <th>Al2O3</th>
    </tr>
    <tr>
      <th>size</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>[0.85, 2.0)</th>
      <td>3.3</td>
      <td>3.3</td>
      <td>0.0</td>
      <td>64.15</td>
      <td>2.04</td>
      <td>2.68</td>
    </tr>
    <tr>
      <th>[0.5, 0.85)</th>
      <td>9.9</td>
      <td>9.9</td>
      <td>0.0</td>
      <td>64.33</td>
      <td>2.05</td>
      <td>2.23</td>
    </tr>
    <tr>
      <th>[0.15, 0.5)</th>
      <td>26.5</td>
      <td>26.5</td>
      <td>0.0</td>
      <td>64.52</td>
      <td>1.84</td>
      <td>2.19</td>
    </tr>
    <tr>
      <th>[0.075, 0.15)</th>
      <td>2.5</td>
      <td>2.5</td>
      <td>0.0</td>
      <td>62.65</td>
      <td>2.88</td>
      <td>3.32</td>
    </tr>
    <tr>
      <th>[0.045, 0.075)</th>
      <td>8.8</td>
      <td>8.8</td>
      <td>0.0</td>
      <td>62.81</td>
      <td>2.12</td>
      <td>2.25</td>
    </tr>
    <tr>
      <th>[0.0, 0.045)</th>
      <td>49.0</td>
      <td>49.0</td>
      <td>0.0</td>
      <td>55.95</td>
      <td>6.39</td>
      <td>6.34</td>
    </tr>
  </tbody>
</table>
</div>
</div>
<br />
<br /><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mc_size</span><span class="o">.</span><span class="n">aggregate</span><span class="p">()</span>
</pre></div>
</div>
<div class="output_subarea output_html rendered_html output_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>mass_wet</th>
      <th>mass_dry</th>
      <th>H2O</th>
      <th>Fe</th>
      <th>SiO2</th>
      <th>Al2O3</th>
    </tr>
    <tr>
      <th>name</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Sample</th>
      <td>100.0</td>
      <td>100.0</td>
      <td>0.0</td>
      <td>60.09245</td>
      <td>4.14753</td>
      <td>4.27716</td>
    </tr>
  </tbody>
</table>
</div>
</div>
<br />
<br /><p>First we‚Äôll plot the intervals</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span> <span class="o">=</span> <span class="n">mc_size</span><span class="o">.</span><span class="n">plot_intervals</span><span class="p">(</span><span class="n">variables</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;mass_dry&#39;</span><span class="p">,</span> <span class="s1">&#39;Fe&#39;</span><span class="p">,</span> <span class="s1">&#39;SiO2&#39;</span><span class="p">,</span> <span class="s1">&#39;Al2O3&#39;</span><span class="p">],</span>
                             <span class="n">cumulative</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">fig</span>
</pre></div>
</div>
<div class="output_subarea output_html rendered_html output_result">
<div>                        <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script charset="utf-8" src="https://cdn.plot.ly/plotly-2.32.0.min.js"></script>                <div id="b3d00aa3-3044-46c3-92a9-cca652998c93" class="plotly-graph-div" style="height:100%; width:100%;"></div>            <script type="text/javascript">                                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("b3d00aa3-3044-46c3-92a9-cca652998c93")) {                    Plotly.newPlot(                        "b3d00aa3-3044-46c3-92a9-cca652998c93",                        [{"customdata":[["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"]],"hovertemplate":"component=%{customdata[0]}\u003cbr\u003esize=%{x:.3f}\u003cbr\u003evalue=%{y:.2f}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"","line":{"color":"#636efa","dash":"solid","shape":"vh"},"marker":{"symbol":"circle"},"mode":"lines","name":"","orientation":"v","showlegend":false,"x":[2.0,0.85,0.5,0.15,0.075,0.045,0.0225],"xaxis":"x4","y":[3.3,3.3,9.9,26.5,2.5,8.8,49.0],"yaxis":"y4","type":"scatter"},{"customdata":[["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"]],"hovertemplate":"component=%{customdata[0]}\u003cbr\u003esize=%{x:.3f}\u003cbr\u003evalue=%{y:.2f}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"","line":{"color":"#636efa","dash":"solid","shape":"vh"},"marker":{"symbol":"circle"},"mode":"lines","name":"","orientation":"v","showlegend":false,"x":[2.0,0.85,0.5,0.15,0.075,0.045,0.0225],"xaxis":"x3","y":[64.15,64.15,64.33,64.52,62.65,62.81,55.95],"yaxis":"y3","type":"scatter"},{"customdata":[["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"]],"hovertemplate":"component=%{customdata[0]}\u003cbr\u003esize=%{x:.3f}\u003cbr\u003evalue=%{y:.2f}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"","line":{"color":"#636efa","dash":"solid","shape":"vh"},"marker":{"symbol":"circle"},"mode":"lines","name":"","orientation":"v","showlegend":false,"x":[2.0,0.85,0.5,0.15,0.075,0.045,0.0225],"xaxis":"x2","y":[2.04,2.04,2.05,1.84,2.88,2.12,6.39],"yaxis":"y2","type":"scatter"},{"customdata":[["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"]],"hovertemplate":"component=%{customdata[0]}\u003cbr\u003esize=%{x:.3f}\u003cbr\u003evalue=%{y:.2f}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"","line":{"color":"#636efa","dash":"solid","shape":"vh"},"marker":{"symbol":"circle"},"mode":"lines","name":"","orientation":"v","showlegend":false,"x":[2.0,0.85,0.5,0.15,0.075,0.045,0.0225],"xaxis":"x","y":[2.68,2.68,2.23,2.19,3.32,2.25,6.34],"yaxis":"y","type":"scatter"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}},"xaxis":{"anchor":"y","domain":[0.0,0.98],"title":{"text":"size"},"type":"log","range":[-1.6478174818886373,0.30102999566398114]},"yaxis":{"anchor":"x","domain":[0.0,0.2275],"title":{"text":"value"}},"xaxis2":{"anchor":"y2","domain":[0.0,0.98],"matches":"x","showticklabels":false,"type":"log"},"yaxis2":{"anchor":"x2","domain":[0.2575,0.485],"title":{"text":"value"}},"xaxis3":{"anchor":"y3","domain":[0.0,0.98],"matches":"x","showticklabels":false,"type":"log"},"yaxis3":{"anchor":"x3","domain":[0.515,0.7425],"title":{"text":"value"}},"xaxis4":{"anchor":"y4","domain":[0.0,0.98],"matches":"x","showticklabels":false,"type":"log"},"yaxis4":{"anchor":"x4","domain":[0.7725,1.0],"title":{"text":"value"}},"annotations":[{"font":{},"showarrow":false,"text":"Al2O3","textangle":90,"x":0.98,"xanchor":"left","xref":"paper","y":0.11375,"yanchor":"middle","yref":"paper"},{"font":{},"showarrow":false,"text":"SiO2","textangle":90,"x":0.98,"xanchor":"left","xref":"paper","y":0.37124999999999997,"yanchor":"middle","yref":"paper"},{"font":{},"showarrow":false,"text":"Fe","textangle":90,"x":0.98,"xanchor":"left","xref":"paper","y":0.62875,"yanchor":"middle","yref":"paper"},{"font":{},"showarrow":false,"text":"mass_dry","textangle":90,"x":0.98,"xanchor":"left","xref":"paper","y":0.88625,"yanchor":"middle","yref":"paper"}],"legend":{"tracegroupgap":0},"margin":{"t":60},"title":{"text":"Sample"}},                        {"responsive": true}                    )                };                            </script>        </div>
</div>
<br />
<br /><p>Size distributions are often plotted in the cumulative form. Cumulative passing is achieved by setting the
direction = ascending.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span> <span class="o">=</span> <span class="n">mc_size</span><span class="o">.</span><span class="n">plot_intervals</span><span class="p">(</span><span class="n">variables</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;mass_dry&#39;</span><span class="p">,</span> <span class="s1">&#39;Fe&#39;</span><span class="p">,</span> <span class="s1">&#39;SiO2&#39;</span><span class="p">,</span> <span class="s1">&#39;Al2O3&#39;</span><span class="p">],</span>
                             <span class="n">cumulative</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">direction</span><span class="o">=</span><span class="s1">&#39;ascending&#39;</span><span class="p">)</span>
<span class="n">fig</span>
</pre></div>
</div>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>/home/runner/work/mass-composition/mass-composition/elphick/mass_composition/mc_xarray.py:157: FutureWarning:

The return type of `Dataset.dims` will be changed to return a set of dimension names in future, in order to be more consistent with `DataArray.dims`. To access a mapping from dimension names to lengths, please use `Dataset.sizes`.
</pre></div>
</div>
<div class="output_subarea output_html rendered_html output_result">
<div>                        <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script charset="utf-8" src="https://cdn.plot.ly/plotly-2.32.0.min.js"></script>                <div id="8f945a98-2288-4ee4-8aed-70c6dc2b2a52" class="plotly-graph-div" style="height:100%; width:100%;"></div>            <script type="text/javascript">                                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("8f945a98-2288-4ee4-8aed-70c6dc2b2a52")) {                    Plotly.newPlot(                        "8f945a98-2288-4ee4-8aed-70c6dc2b2a52",                        [{"customdata":[["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"]],"hovertemplate":"component=%{customdata[0]}\u003cbr\u003esize_passing=%{x:.3f}\u003cbr\u003evalue=%{y:.2f}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"","line":{"color":"#636efa","dash":"solid","shape":"spline"},"marker":{"symbol":"circle"},"mode":"lines+markers","name":"","orientation":"v","showlegend":false,"x":[2.0,0.85,0.5,0.15,0.075,0.0225],"xaxis":"x4","y":[100.0,96.7,86.8,60.3,57.8,49.0],"yaxis":"y4","type":"scatter"},{"customdata":[["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"]],"hovertemplate":"component=%{customdata[0]}\u003cbr\u003esize_passing=%{x:.3f}\u003cbr\u003evalue=%{y:.2f}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"","line":{"color":"#636efa","dash":"solid","shape":"spline"},"marker":{"symbol":"circle"},"mode":"lines+markers","name":"","orientation":"v","showlegend":false,"x":[2.0,0.85,0.5,0.15,0.075,0.0225],"xaxis":"x3","y":[60.09245,59.95398138572905,59.4548732718894,57.22890547263682,56.994429065743944,55.95],"yaxis":"y3","type":"scatter"},{"customdata":[["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"]],"hovertemplate":"component=%{customdata[0]}\u003cbr\u003esize_passing=%{x:.3f}\u003cbr\u003evalue=%{y:.2f}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"","line":{"color":"#636efa","dash":"solid","shape":"spline"},"marker":{"symbol":"circle"},"mode":"lines+markers","name":"","orientation":"v","showlegend":false,"x":[2.0,0.85,0.5,0.15,0.075,0.0225],"xaxis":"x2","y":[4.14753,4.219451913133402,4.466889400921659,5.621326699834162,5.739896193771625,6.389999999999999],"yaxis":"y2","type":"scatter"},{"customdata":[["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"]],"hovertemplate":"component=%{customdata[0]}\u003cbr\u003esize_passing=%{x:.3f}\u003cbr\u003evalue=%{y:.2f}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"","line":{"color":"#636efa","dash":"solid","shape":"spline"},"marker":{"symbol":"circle"},"mode":"lines+markers","name":"","orientation":"v","showlegend":false,"x":[2.0,0.85,0.5,0.15,0.075,0.0225],"xaxis":"x","y":[4.27716,4.3316649431230605,4.571370967741935,5.6179104477611945,5.717301038062283,6.34],"yaxis":"y","type":"scatter"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}},"xaxis":{"anchor":"y","domain":[0.0,0.98],"title":{"text":"size_passing"},"type":"log","range":[-1.6478174818886373,0.30102999566398114]},"yaxis":{"anchor":"x","domain":[0.0,0.2275],"title":{"text":"value"}},"xaxis2":{"anchor":"y2","domain":[0.0,0.98],"matches":"x","showticklabels":false,"type":"log"},"yaxis2":{"anchor":"x2","domain":[0.2575,0.485],"title":{"text":"value"}},"xaxis3":{"anchor":"y3","domain":[0.0,0.98],"matches":"x","showticklabels":false,"type":"log"},"yaxis3":{"anchor":"x3","domain":[0.515,0.7425],"title":{"text":"value"}},"xaxis4":{"anchor":"y4","domain":[0.0,0.98],"matches":"x","showticklabels":false,"type":"log"},"yaxis4":{"anchor":"x4","domain":[0.7725,1.0],"title":{"text":"value"}},"annotations":[{"font":{},"showarrow":false,"text":"Al2O3","textangle":90,"x":0.98,"xanchor":"left","xref":"paper","y":0.11375,"yanchor":"middle","yref":"paper"},{"font":{},"showarrow":false,"text":"SiO2","textangle":90,"x":0.98,"xanchor":"left","xref":"paper","y":0.37124999999999997,"yanchor":"middle","yref":"paper"},{"font":{},"showarrow":false,"text":"Fe","textangle":90,"x":0.98,"xanchor":"left","xref":"paper","y":0.62875,"yanchor":"middle","yref":"paper"},{"font":{},"showarrow":false,"text":"mass_dry","textangle":90,"x":0.98,"xanchor":"left","xref":"paper","y":0.88625,"yanchor":"middle","yref":"paper"}],"legend":{"tracegroupgap":0},"margin":{"t":60},"title":{"text":"Sample"}},                        {"responsive": true}                    )                };                            </script>        </div>
</div>
<br />
<br /><p>Now we will resample on a defined grid (interval edges) and view the resampled fractions</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">new_edges</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">unique</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">geomspace</span><span class="p">(</span><span class="mf">1.0e-03</span><span class="p">,</span> <span class="n">mc_size</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">to_dataframe</span><span class="p">()</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">right</span><span class="o">.</span><span class="n">max</span><span class="p">()</span> <span class="o">*</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">50</span><span class="p">))</span>
<span class="n">new_coords</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">new_edges</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>

<span class="n">mc_upsampled</span><span class="p">:</span> <span class="n">MassComposition</span> <span class="o">=</span> <span class="n">mc_size</span><span class="o">.</span><span class="n">resample_1d</span><span class="p">(</span><span class="n">interval_edges</span><span class="o">=</span><span class="n">new_edges</span><span class="p">,</span> <span class="n">precision</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">include_original_edges</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">mc_upsampled</span><span class="o">.</span><span class="n">plot_intervals</span><span class="p">(</span><span class="n">variables</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;mass_dry&#39;</span><span class="p">,</span> <span class="s1">&#39;Fe&#39;</span><span class="p">,</span> <span class="s1">&#39;SiO2&#39;</span><span class="p">,</span> <span class="s1">&#39;Al2O3&#39;</span><span class="p">],</span> <span class="n">cumulative</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="c1"># noinspection PyTypeChecker</span>
<span class="n">plotly</span><span class="o">.</span><span class="n">io</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="n">fig</span><span class="p">)</span>
</pre></div>
</div>
<html>
<head><meta charset="utf-8" /></head>
<body>
    <div>                        <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script charset="utf-8" src="https://cdn.plot.ly/plotly-2.32.0.min.js"></script>                <div id="9ca5b250-14ad-4aa4-aca7-86ea998f2697" class="plotly-graph-div" style="height:100%; width:100%;"></div>            <script type="text/javascript">                                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("9ca5b250-14ad-4aa4-aca7-86ea998f2697")) {                    Plotly.newPlot(                        "9ca5b250-14ad-4aa4-aca7-86ea998f2697",                        [{"customdata":[["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"]],"hovertemplate":"component=%{customdata[0]}\u003cbr\u003esize=%{x:.3f}\u003cbr\u003evalue=%{y:.2f}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"","line":{"color":"#636efa","dash":"solid","shape":"vh"},"marker":{"symbol":"circle"},"mode":"lines","name":"","orientation":"v","showlegend":false,"x":[6.0,5.024,4.207,3.522,2.949,2.47,2.068,2.0,1.731,1.45,1.214,1.016,0.851,0.85,0.713,0.597,0.5,0.418,0.35,0.293,0.246,0.206,0.172,0.15,0.144,0.121,0.101,0.085,0.075,0.071,0.059,0.05,0.045,0.042,0.035,0.029,0.024,0.02,0.017,0.014,0.012,0.01,0.008,0.007,0.006,0.005,0.004,0.003,0.002,0.001,0.0005],"xaxis":"x4","y":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.16343546978544055,0.5426289256543555,0.7750974574871918,0.8917255223359888,0.9210213463425134,0.006091278394507071,2.3281955672852774,3.743049561838916,3.8287548708758123,5.034015802958393,5.844378254474293,5.252278953854088,4.109708877534189,3.0639292299607135,2.122945268114698,1.0727436131036256,0.23250179574390017,0.6011531339047949,0.47521720056535344,0.6116686152698634,0.5794592545160882,0.42481762273377655,2.8774491836527716,3.3473468512321247,2.1503863423813243,1.4950947377435142,4.674167772465253,5.224947440234075,5.13194945011378,4.570290721155754,3.678095094555058,3.877906766573897,2.6897011149963888,2.7686414817986478,2.843635920296233,1.4487077719895023,1.465976658499649,1.482752303971707,1.4990347084056879,1.514823871801581,1.5301197941593916,1.5449224754791189,1.559231915760762],"yaxis":"y4","type":"scatter"},{"customdata":[["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"]],"hovertemplate":"component=%{customdata[0]}\u003cbr\u003esize=%{x:.3f}\u003cbr\u003evalue=%{y:.2f}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"","line":{"color":"#636efa","dash":"solid","shape":"vh"},"marker":{"symbol":"circle"},"mode":"lines","name":"","orientation":"v","showlegend":false,"x":[6.0,5.024,4.207,3.522,2.949,2.47,2.068,2.0,1.731,1.45,1.214,1.016,0.851,0.85,0.713,0.597,0.5,0.418,0.35,0.293,0.246,0.206,0.172,0.15,0.144,0.121,0.101,0.085,0.075,0.071,0.059,0.05,0.045,0.042,0.035,0.029,0.024,0.02,0.017,0.014,0.012,0.01,0.008,0.007,0.006,0.005,0.004,0.003,0.002,0.001,0.0005],"xaxis":"x3","y":[null,null,null,null,null,null,null,null,64.1090479948936,64.12721763309325,64.1441244075097,64.15755244985516,64.1681713706762,64.17275477929896,64.27935002959397,64.32777297711625,64.36297648919022,64.64847569174741,64.75502275349025,64.69399546756432,64.54965060972154,64.31587456673343,63.94131948401406,63.39941006658214,63.02441348988689,62.80226784456746,62.455003157547814,62.52472201274486,62.63396153991043,63.43874537034382,63.58998970629204,62.72048432134605,61.781420721713474,60.320975625000884,58.123101478952876,56.67297541370547,56.00116000305486,55.653150514934836,55.465719074178935,55.349534014839854,55.27752818868837,55.23467706444277,55.20321457719478,55.186202582686484,55.17811306594085,55.172364541240626,55.16887274023507,55.16756148141908,55.168361994288,55.17121232107267,55.176056786583906],"yaxis":"y3","type":"scatter"},{"customdata":[["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"]],"hovertemplate":"component=%{customdata[0]}\u003cbr\u003esize=%{x:.3f}\u003cbr\u003evalue=%{y:.2f}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"","line":{"color":"#636efa","dash":"solid","shape":"vh"},"marker":{"symbol":"circle"},"mode":"lines","name":"","orientation":"v","showlegend":false,"x":[6.0,5.024,4.207,3.522,2.949,2.47,2.068,2.0,1.731,1.45,1.214,1.016,0.851,0.85,0.713,0.597,0.5,0.418,0.35,0.293,0.246,0.206,0.172,0.15,0.144,0.121,0.101,0.085,0.075,0.071,0.059,0.05,0.045,0.042,0.035,0.029,0.024,0.02,0.017,0.014,0.012,0.01,0.008,0.007,0.006,0.005,0.004,0.003,0.002,0.001,0.0005],"xaxis":"x2","y":[null,null,null,null,null,null,null,null,2.0377290345183177,2.038736619399361,2.0396741730302015,2.040418815950007,2.041007680953335,2.0412618507339952,2.0844699756234952,2.0627026908241706,2.0166210948246532,1.8084763618439845,1.7250730832987264,1.7454567103267375,1.8130091706511027,1.9277609166909626,2.114528254271474,2.386409546145102,2.598070902227193,2.841227158749248,3.102230427110226,2.934391725648397,2.793678147275246,2.2710919984536186,1.9584740736476116,2.1055194286661996,2.3288311236599615,3.2151242778259994,4.846350520893296,5.910368496208593,6.392158757751436,6.633618898523885,6.758001085635133,6.8304642337419645,6.871740225174333,6.893275206429485,6.905914110731402,6.910240976510609,6.9105471190372105,6.908998817730599,6.905656803285659,6.9005756514414855,6.893804286390845,6.885386425773715,6.8753609743508015],"yaxis":"y2","type":"scatter"},{"customdata":[["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"]],"hovertemplate":"component=%{customdata[0]}\u003cbr\u003esize=%{x:.3f}\u003cbr\u003evalue=%{y:.2f}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"","line":{"color":"#636efa","dash":"solid","shape":"vh"},"marker":{"symbol":"circle"},"mode":"lines","name":"","orientation":"v","showlegend":false,"x":[6.0,5.024,4.207,3.522,2.949,2.47,2.068,2.0,1.731,1.45,1.214,1.016,0.851,0.85,0.713,0.597,0.5,0.418,0.35,0.293,0.246,0.206,0.172,0.15,0.144,0.121,0.101,0.085,0.075,0.071,0.059,0.05,0.045,0.042,0.035,0.029,0.024,0.02,0.017,0.014,0.012,0.01,0.008,0.007,0.006,0.005,0.004,0.003,0.002,0.001,0.0005],"xaxis":"x","y":[null,null,null,null,null,null,null,null,2.8002619313224257,2.7469039632399865,2.6972545910440604,2.6578210565412546,2.626636944233041,2.6131770522204367,2.287245311081759,2.2126615982708713,2.212140464767441,2.1028185291254613,2.0630573684174185,2.1013953117194597,2.1810835766208454,2.307105919496484,2.5073632996679827,2.796151300727906,3.027804892830379,3.3204875815313817,3.590735948496577,3.3549644116803843,3.177794596924476,2.514837649029605,2.087946744631598,2.2221788036639456,2.4578321890544617,3.3138020445544343,4.867664470118306,5.881555018105615,6.340956522717743,6.571426174271123,6.69031293414822,6.759716727727286,6.79936856505374,6.820163648254594,6.832496725486859,6.836845845235596,6.837293632718248,6.835978133354064,6.832957247236749,6.828283015608243,6.822002100343585,6.814156207813152,6.80478246388008],"yaxis":"y","type":"scatter"}],                        {"annotations":[{"showarrow":false,"text":"Al2O3","textangle":90,"x":0.98,"xanchor":"left","xref":"paper","y":0.11375,"yanchor":"middle","yref":"paper"},{"showarrow":false,"text":"SiO2","textangle":90,"x":0.98,"xanchor":"left","xref":"paper","y":0.37124999999999997,"yanchor":"middle","yref":"paper"},{"showarrow":false,"text":"Fe","textangle":90,"x":0.98,"xanchor":"left","xref":"paper","y":0.62875,"yanchor":"middle","yref":"paper"},{"showarrow":false,"text":"mass_dry","textangle":90,"x":0.98,"xanchor":"left","xref":"paper","y":0.88625,"yanchor":"middle","yref":"paper"}],"legend":{"tracegroupgap":0},"margin":{"t":60},"template":{"data":{"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"choropleth":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"choropleth"}],"contourcarpet":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"contourcarpet"}],"contour":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"contour"}],"heatmapgl":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"heatmapgl"}],"heatmap":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"heatmap"}],"histogram2dcontour":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"histogram2dcontour"}],"histogram2d":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"histogram2d"}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"mesh3d":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"mesh3d"}],"parcoords":[{"line":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"parcoords"}],"pie":[{"automargin":true,"type":"pie"}],"scatter3d":[{"line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatter3d"}],"scattercarpet":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattercarpet"}],"scattergeo":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattergeo"}],"scattergl":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattergl"}],"scattermapbox":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattermapbox"}],"scatterpolargl":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterpolargl"}],"scatterpolar":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterpolar"}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"scatterternary":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterternary"}],"surface":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"surface"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}]},"layout":{"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"autotypenumbers":"strict","coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]],"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]},"colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"geo":{"bgcolor":"white","lakecolor":"white","landcolor":"#E5ECF6","showlakes":true,"showland":true,"subunitcolor":"white"},"hoverlabel":{"align":"left"},"hovermode":"closest","mapbox":{"style":"light"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"bgcolor":"#E5ECF6","radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","gridwidth":2,"linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white"},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","gridwidth":2,"linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white"},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","gridwidth":2,"linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white"}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"ternary":{"aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"bgcolor":"#E5ECF6","caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"title":{"x":0.05},"xaxis":{"automargin":true,"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","zerolinewidth":2},"yaxis":{"automargin":true,"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","zerolinewidth":2}}},"title":{"text":"Sample"},"xaxis":{"anchor":"y","domain":[0.0,0.98],"range":[-3.301029995663981,0.7781512503836435],"title":{"text":"size"},"type":"log"},"yaxis":{"anchor":"x","domain":[0.0,0.2275],"title":{"text":"value"}},"xaxis2":{"anchor":"y2","domain":[0.0,0.98],"matches":"x","showticklabels":false,"type":"log"},"yaxis2":{"anchor":"x2","domain":[0.2575,0.485],"title":{"text":"value"}},"xaxis3":{"anchor":"y3","domain":[0.0,0.98],"matches":"x","showticklabels":false,"type":"log"},"yaxis3":{"anchor":"x3","domain":[0.515,0.7425],"title":{"text":"value"}},"xaxis4":{"anchor":"y4","domain":[0.0,0.98],"matches":"x","showticklabels":false,"type":"log"},"yaxis4":{"anchor":"x4","domain":[0.7725,1.0],"title":{"text":"value"}}},                        {"responsive": true}                    )                };                            </script>        </div>
</body>
</html><p>Close inspection of the plot above reals some sharp dips for some mass intervals.  This is caused by those intervals
being narrower than the adjacent neighbours, hence they have less absolute mass.
This is a visual artefact only, numerically it is correct, as shown by the cumulative plot.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span> <span class="o">=</span> <span class="n">mc_upsampled</span><span class="o">.</span><span class="n">plot_intervals</span><span class="p">(</span><span class="n">variables</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;mass_dry&#39;</span><span class="p">,</span> <span class="s1">&#39;Fe&#39;</span><span class="p">,</span> <span class="s1">&#39;SiO2&#39;</span><span class="p">,</span> <span class="s1">&#39;Al2O3&#39;</span><span class="p">],</span> <span class="n">cumulative</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">direction</span><span class="o">=</span><span class="s1">&#39;ascending&#39;</span><span class="p">)</span>
<span class="n">fig</span>
</pre></div>
</div>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>/home/runner/work/mass-composition/mass-composition/elphick/mass_composition/mc_xarray.py:157: FutureWarning:

The return type of `Dataset.dims` will be changed to return a set of dimension names in future, in order to be more consistent with `DataArray.dims`. To access a mapping from dimension names to lengths, please use `Dataset.sizes`.
</pre></div>
</div>
<div class="output_subarea output_html rendered_html output_result">
<div>                        <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script charset="utf-8" src="https://cdn.plot.ly/plotly-2.32.0.min.js"></script>                <div id="4e504ad9-af07-4e31-ad95-aab1462b111a" class="plotly-graph-div" style="height:100%; width:100%;"></div>            <script type="text/javascript">                                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("4e504ad9-af07-4e31-ad95-aab1462b111a")) {                    Plotly.newPlot(                        "4e504ad9-af07-4e31-ad95-aab1462b111a",                        [{"customdata":[["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"]],"hovertemplate":"component=%{customdata[0]}\u003cbr\u003esize_right=%{x:.3f}\u003cbr\u003evalue=%{y:.2f}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"","line":{"color":"#636efa","dash":"solid","shape":"spline"},"marker":{"symbol":"circle"},"mode":"lines+markers","name":"","orientation":"v","showlegend":false,"x":[6.0,5.024,4.207,3.522,2.949,2.47,2.068,2.0,1.731,1.45,1.214,1.016,0.851,0.85,0.713,0.597,0.5,0.418,0.35,0.293,0.246,0.206,0.172,0.15,0.144,0.121,0.101,0.085,0.075,0.071,0.059,0.05,0.045,0.042,0.035,0.029,0.024,0.02,0.017,0.014,0.012,0.01,0.008,0.007,0.006,0.005,0.004,0.003,0.002,0.0005],"xaxis":"x4","y":[100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,99.83656453021456,99.2939356045602,98.51883814707301,97.62711262473702,96.70609127839451,96.7,94.37180443271473,90.62875487087581,86.8,81.7659841970416,75.92160594256731,70.66932698871322,66.55961811117903,63.49568888121832,61.37274361310362,60.3,60.0674982042561,59.4663450703513,58.99112786978595,58.379459254516085,57.8,57.37518237726622,54.49773319361345,51.150386342381324,49.0,47.504905262256486,42.83073748979123,37.60579004955716,32.47384059944338,27.903549878287624,24.225454783732566,20.34754801715867,17.65784690216228,14.889205420363632,12.0455695000674,10.596861728077897,9.130885069578248,7.648132765606541,6.149098057200853,4.634274185399272,3.104154391239881,1.559231915760762],"yaxis":"y4","type":"scatter"},{"customdata":[["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"]],"hovertemplate":"component=%{customdata[0]}\u003cbr\u003esize_right=%{x:.3f}\u003cbr\u003evalue=%{y:.2f}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"","line":{"color":"#636efa","dash":"solid","shape":"spline"},"marker":{"symbol":"circle"},"mode":"lines+markers","name":"","orientation":"v","showlegend":false,"x":[6.0,5.024,4.207,3.522,2.949,2.47,2.068,2.0,1.731,1.45,1.214,1.016,0.851,0.85,0.713,0.597,0.5,0.418,0.35,0.293,0.246,0.206,0.172,0.15,0.144,0.121,0.101,0.085,0.075,0.071,0.059,0.05,0.045,0.042,0.035,0.029,0.024,0.02,0.017,0.014,0.012,0.01,0.008,0.007,0.006,0.005,0.004,0.003,0.002,0.0005],"xaxis":"x3","y":[60.09245,60.09245,60.09245,60.09245,60.09245,60.09245,60.09245,60.09245,60.085874707838016,60.063789274761156,60.03168721746358,59.994001586591914,59.95424711586956,59.95398138572905,59.847272563490726,59.66222384320395,59.4548732718894,59.13512323264516,58.70250832488354,58.257209591151216,57.86868421421496,57.55758065237857,57.33676067028791,57.22890547263682,57.20647294154193,57.1499043120312,57.10716781396569,57.0504055911354,56.994429065743944,56.94671402556048,56.59595286424045,56.195155674733634,55.95,55.81243478184692,55.560269060649716,55.405669670410354,55.311562344983145,55.25561400685426,55.22371423760877,55.19973506502828,55.187885361459834,55.17918446398243,55.17351159869375,55.171776601331665,55.17075927287516,55.170448057649125,55.170832090471244,55.171901167627524,55.17364571976613,55.176056786583906],"yaxis":"y3","type":"scatter"},{"customdata":[["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"]],"hovertemplate":"component=%{customdata[0]}\u003cbr\u003esize_right=%{x:.3f}\u003cbr\u003evalue=%{y:.2f}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"","line":{"color":"#636efa","dash":"solid","shape":"spline"},"marker":{"symbol":"circle"},"mode":"lines+markers","name":"","orientation":"v","showlegend":false,"x":[6.0,5.024,4.207,3.522,2.949,2.47,2.068,2.0,1.731,1.45,1.214,1.016,0.851,0.85,0.713,0.597,0.5,0.418,0.35,0.293,0.246,0.206,0.172,0.15,0.144,0.121,0.101,0.085,0.075,0.071,0.059,0.05,0.045,0.042,0.035,0.029,0.024,0.02,0.017,0.014,0.012,0.01,0.008,0.007,0.006,0.005,0.004,0.003,0.002,0.0005],"xaxis":"x2","y":[4.14753,4.14753,4.14753,4.14753,4.14753,4.14753,4.14753,4.14753,4.150983807866584,4.162526974280685,4.179228529433137,4.198764405868038,4.219314714308687,4.219451913133402,4.272122893761824,4.363373946855365,4.466889400921659,4.630557622871488,4.854219259779377,5.0852684123152105,5.287313334396901,5.449425613727399,5.564783085987993,5.621326699834162,5.6330287420858065,5.661251432904919,5.681866241308752,5.710652803465085,5.739896193771625,5.765579931773439,5.96659294647306,6.21926654693613,6.389999999999999,6.48992104939494,6.669285796451356,6.774729745375903,6.835188715837271,6.868203607123531,6.884935402555757,6.8953167081532705,6.898907955314234,6.899955362598814,6.898548661966708,6.896950193723283,6.8947671879154475,6.892008085459408,6.888680784194009,6.884792661019261,6.880350592545629,6.875360974350802],"yaxis":"y2","type":"scatter"},{"customdata":[["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"]],"hovertemplate":"component=%{customdata[0]}\u003cbr\u003esize_right=%{x:.3f}\u003cbr\u003evalue=%{y:.2f}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"","line":{"color":"#636efa","dash":"solid","shape":"spline"},"marker":{"symbol":"circle"},"mode":"lines+markers","name":"","orientation":"v","showlegend":false,"x":[6.0,5.024,4.207,3.522,2.949,2.47,2.068,2.0,1.731,1.45,1.214,1.016,0.851,0.85,0.713,0.597,0.5,0.418,0.35,0.293,0.246,0.206,0.172,0.15,0.144,0.121,0.101,0.085,0.075,0.071,0.059,0.05,0.045,0.042,0.035,0.029,0.024,0.02,0.017,0.014,0.012,0.01,0.008,0.007,0.006,0.005,0.004,0.003,0.002,0.0005],"xaxis":"x","y":[4.27716,4.27716,4.27716,4.27716,4.27716,4.27716,4.27716,4.27716,4.279577726719818,4.2879535969337645,4.300468429409274,4.315472361690002,4.331556699805368,4.3316649431230605,4.382101710265552,4.4717015494358785,4.571370967741935,4.723350205911204,4.928137201878385,5.13822604197772,5.32081414850367,5.466238017369821,5.568588486178718,5.6179104477611945,5.627935905965561,5.651262205739256,5.667861269954805,5.692094560852465,5.717301038062283,5.741012734085752,5.9338925317067,6.176791836065318,6.34,6.435241799001156,6.606313320551721,6.707011219257317,6.7648600650957125,6.796542382229152,6.8126709550618125,6.822763156654167,6.826326697524195,6.827472713942159,6.826286679550641,6.824843125243145,6.822844178459138,6.820297883503552,6.817211768199183,6.813592864958908,6.809447730441066,6.80478246388008],"yaxis":"y","type":"scatter"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}},"xaxis":{"anchor":"y","domain":[0.0,0.98],"title":{"text":"size_right"},"type":"log","range":[-3.301029995663981,0.7781512503836435]},"yaxis":{"anchor":"x","domain":[0.0,0.2275],"title":{"text":"value"}},"xaxis2":{"anchor":"y2","domain":[0.0,0.98],"matches":"x","showticklabels":false,"type":"log"},"yaxis2":{"anchor":"x2","domain":[0.2575,0.485],"title":{"text":"value"}},"xaxis3":{"anchor":"y3","domain":[0.0,0.98],"matches":"x","showticklabels":false,"type":"log"},"yaxis3":{"anchor":"x3","domain":[0.515,0.7425],"title":{"text":"value"}},"xaxis4":{"anchor":"y4","domain":[0.0,0.98],"matches":"x","showticklabels":false,"type":"log"},"yaxis4":{"anchor":"x4","domain":[0.7725,1.0],"title":{"text":"value"}},"annotations":[{"font":{},"showarrow":false,"text":"Al2O3","textangle":90,"x":0.98,"xanchor":"left","xref":"paper","y":0.11375,"yanchor":"middle","yref":"paper"},{"font":{},"showarrow":false,"text":"SiO2","textangle":90,"x":0.98,"xanchor":"left","xref":"paper","y":0.37124999999999997,"yanchor":"middle","yref":"paper"},{"font":{},"showarrow":false,"text":"Fe","textangle":90,"x":0.98,"xanchor":"left","xref":"paper","y":0.62875,"yanchor":"middle","yref":"paper"},{"font":{},"showarrow":false,"text":"mass_dry","textangle":90,"x":0.98,"xanchor":"left","xref":"paper","y":0.88625,"yanchor":"middle","yref":"paper"}],"legend":{"tracegroupgap":0},"margin":{"t":60},"title":{"text":"Sample"}},                        {"responsive": true}                    )                };                            </script>        </div>
</div>
<br />
<br /><p>We can upsample each of the original fraction by a factor.  Since adjacent fractions are similar, the fractional
plot is reasonably smooth.  Note however, that fraction widths are still different, caused by the original sieve
selection.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mc_upsampled_2</span><span class="p">:</span> <span class="n">MassComposition</span> <span class="o">=</span> <span class="n">mc_size</span><span class="o">.</span><span class="n">resample_1d</span><span class="p">(</span><span class="n">interval_edges</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">precision</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">mc_upsampled_2</span><span class="o">.</span><span class="n">plot_intervals</span><span class="p">(</span><span class="n">variables</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;mass_dry&#39;</span><span class="p">,</span> <span class="s1">&#39;Fe&#39;</span><span class="p">,</span> <span class="s1">&#39;SiO2&#39;</span><span class="p">,</span> <span class="s1">&#39;Al2O3&#39;</span><span class="p">],</span> <span class="n">cumulative</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">fig</span>
</pre></div>
</div>
<div class="output_subarea output_html rendered_html output_result">
<div>                        <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script charset="utf-8" src="https://cdn.plot.ly/plotly-2.32.0.min.js"></script>                <div id="032801ec-7a40-4407-bbd0-8b7402a08da3" class="plotly-graph-div" style="height:100%; width:100%;"></div>            <script type="text/javascript">                                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("032801ec-7a40-4407-bbd0-8b7402a08da3")) {                    Plotly.newPlot(                        "032801ec-7a40-4407-bbd0-8b7402a08da3",                        [{"customdata":[["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"],["mass_dry"]],"hovertemplate":"component=%{customdata[0]}\u003cbr\u003esize=%{x:.3f}\u003cbr\u003evalue=%{y:.2f}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"","line":{"color":"#636efa","dash":"solid","shape":"vh"},"marker":{"symbol":"circle"},"mode":"lines","name":"","orientation":"v","showlegend":false,"x":[2.0,1.885,1.77,1.655,1.54,1.425,1.31,1.195,1.08,0.965,0.85,0.815,0.78,0.745,0.71,0.675,0.64,0.605,0.57,0.535,0.5,0.465,0.43,0.395,0.36,0.325,0.29,0.255,0.22,0.185,0.15,0.143,0.135,0.128,0.12,0.112,0.105,0.098,0.09,0.082,0.075,0.072,0.069,0.066,0.063,0.06,0.057,0.054,0.051,0.048,0.045,0.04,0.036,0.032,0.027,0.022,0.018,0.013,0.009,0.004,0.002],"xaxis":"x4","y":[0.029323050615602142,0.029323050615602142,0.08960335157317445,0.15233495212039827,0.21751785225717413,0.2851520519835731,0.3552375512996093,0.4277743502051834,0.502762448700409,0.5802018467852292,0.6600925444596442,0.32024247530854666,0.5211115271869033,0.7024678116684839,0.864311328753331,1.006642078441402,1.129460060732697,1.2327652756272727,1.3165577231250154,1.3808374032260389,1.4256043159303147,1.7750709167984695,2.3476964943336185,2.7784982372265006,3.0674761454772295,3.2146302190856915,3.219960458051986,3.0834668623760564,2.8051494320579025,2.3850081670975527,1.823043067494993,0.26701425759761577,0.24087889921604955,0.17242287124739164,0.1746164049332677,0.1734938226308742,0.16959887514294536,0.20291032166360168,0.29314309992956566,0.3812833384491796,0.42463810918950884,0.2903581685427383,0.4569270155156744,0.6101693641618482,0.7500852144812882,0.8766745664739872,0.9899374201399382,1.0898737754791696,1.1764836324916388,1.24976699117736,1.3097238515363543,2.665308245518048,2.73903117644727,3.244197202280425,4.717545225465237,5.395887907260722,4.763684809502287,6.461533807496213,5.536296481521127,7.3274170873078175,6.149098057200853],"yaxis":"y4","type":"scatter"},{"customdata":[["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"],["Fe"]],"hovertemplate":"component=%{customdata[0]}\u003cbr\u003esize=%{x:.3f}\u003cbr\u003evalue=%{y:.2f}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"","line":{"color":"#636efa","dash":"solid","shape":"vh"},"marker":{"symbol":"circle"},"mode":"lines","name":"","orientation":"v","showlegend":false,"x":[2.0,1.885,1.77,1.655,1.54,1.425,1.31,1.195,1.08,0.965,0.85,0.815,0.78,0.745,0.71,0.675,0.64,0.605,0.57,0.535,0.5,0.465,0.43,0.395,0.36,0.325,0.29,0.255,0.22,0.185,0.15,0.143,0.135,0.128,0.12,0.112,0.105,0.098,0.09,0.082,0.075,0.072,0.069,0.066,0.063,0.06,0.057,0.054,0.051,0.048,0.045,0.04,0.036,0.032,0.027,0.022,0.018,0.013,0.009,0.004,0.002],"xaxis":"x3","y":[64.10099189628556,64.10099189628556,64.10901375606922,64.11750648659236,64.12577556969012,64.13376112137506,64.14145977579362,64.14888019847888,64.156034277902,64.16293460855923,64.16959362222552,64.22428926863518,64.26694754061955,64.28812767538257,64.30278427803754,64.31491613510997,64.32610650321642,64.3371681570873,64.34862323182678,64.36088572514782,64.37434994261572,64.54002785024107,64.69469683074368,64.750803724814,64.75765748654851,64.72944801608438,64.66725506783976,64.56267319813495,64.39365222540077,64.10748072252153,63.55637439394754,63.01892220784568,62.91499174196413,62.77103630777622,62.61013055971063,62.476795057666145,62.43059024676298,62.45168378538419,62.51037946182967,62.582458286910736,62.645142666494394,63.325523858066944,63.74580728995735,63.77500243117736,63.65436329937003,63.45012824547355,63.186118822269165,62.871286234696846,62.50788329572777,62.094382798755944,61.62657195564098,59.7524205748882,57.96200940708789,57.01365531853785,56.32410596668881,55.82961583703743,55.539049043793696,55.35122621336005,55.235841600060944,55.180293716707254,55.170832090471244],"yaxis":"y3","type":"scatter"},{"customdata":[["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"],["SiO2"]],"hovertemplate":"component=%{customdata[0]}\u003cbr\u003esize=%{x:.3f}\u003cbr\u003evalue=%{y:.2f}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"","line":{"color":"#636efa","dash":"solid","shape":"vh"},"marker":{"symbol":"circle"},"mode":"lines","name":"","orientation":"v","showlegend":false,"x":[2.0,1.885,1.77,1.655,1.54,1.425,1.31,1.195,1.08,0.965,0.85,0.815,0.78,0.745,0.71,0.675,0.64,0.605,0.57,0.535,0.5,0.465,0.43,0.395,0.36,0.325,0.29,0.255,0.22,0.185,0.15,0.143,0.135,0.128,0.12,0.112,0.105,0.098,0.09,0.082,0.075,0.072,0.069,0.066,0.063,0.06,0.057,0.054,0.051,0.048,0.045,0.04,0.036,0.032,0.027,0.022,0.018,0.013,0.009,0.004,0.002],"xaxis":"x2","y":[2.037282289075867,2.037282289075867,2.037727135827591,2.0381980944006575,2.0386566507585453,2.039099484073251,2.0395264076980832,2.0399379021711384,2.0403346267609086,2.040717279885693,2.041086550941912,2.0702891394906797,2.0875855385310027,2.088756668208234,2.084032421920897,2.075981573457574,2.065444480417269,2.052663884136061,2.037599636238751,2.0200288450068933,1.999569072712562,1.8829732843577827,1.7773624902467224,1.7345492810100491,1.7221370795110658,1.7302844126231995,1.7572490851209,1.8066542256163134,1.8892691070686882,2.031457927311618,2.307593971109741,2.604856221918562,2.727521935898332,2.8798840276419235,3.0270451689232116,3.118330256653189,3.1123465005348816,3.0466661841680573,2.9525916485888075,2.8564262271720104,2.7803275560367178,2.3480939117220276,2.043207550287477,1.9496685304404744,1.9329564939053923,1.955524923271747,2.003216164247694,2.0699471525144526,2.1531335617300127,2.2520153667513596,2.366976320737315,3.6380580112547865,4.965985269486806,5.662748909061347,6.162305871775989,6.512254013184285,6.710009617712036,6.829030746154456,6.892282565369678,6.908677934879508,6.888680784194008],"yaxis":"y2","type":"scatter"},{"customdata":[["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"],["Al2O3"]],"hovertemplate":"component=%{customdata[0]}\u003cbr\u003esize=%{x:.3f}\u003cbr\u003evalue=%{y:.2f}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"","line":{"color":"#636efa","dash":"solid","shape":"vh"},"marker":{"symbol":"circle"},"mode":"lines","name":"","orientation":"v","showlegend":false,"x":[2.0,1.885,1.77,1.655,1.54,1.425,1.31,1.195,1.08,0.965,0.85,0.815,0.78,0.745,0.71,0.675,0.64,0.605,0.57,0.535,0.5,0.465,0.43,0.395,0.36,0.325,0.29,0.255,0.22,0.185,0.15,0.143,0.135,0.128,0.12,0.112,0.105,0.098,0.09,0.082,0.075,0.072,0.069,0.066,0.063,0.06,0.057,0.054,0.051,0.048,0.045,0.04,0.036,0.032,0.027,0.022,0.018,0.013,0.009,0.004,0.002],"xaxis":"x","y":[2.8239199176396346,2.8239199176396346,2.8003624789784336,2.7754222550710685,2.751138806683125,2.7276879923485353,2.705079696441666,2.6832884713070624,2.6622794045691602,2.642015510542609,2.6224602813876428,2.441151436641541,2.3107138368648306,2.2591141052005597,2.2332304235386187,2.2191540600538198,2.211691701616333,2.2085121744701213,2.208465934987501,2.2109806172217916,2.215813067828462,2.1491958839607213,2.0826901189419837,2.0611234735603743,2.0625705788651976,2.081016530119521,2.1165681231493756,2.1740422277125315,2.265356369698927,2.4186473005959814,2.7125406683306625,3.0362578913780607,3.187191947461585,3.3686668401276236,3.535122763520336,3.624846329467769,3.596789618052428,3.502027102163363,3.3777934297116277,3.2556733715409147,3.161314741468356,2.61365267389457,2.2200624715926653,2.0909926949548185,2.057439428264721,2.0721396786534036,2.1171757116986316,2.1847418215746766,2.271392603493005,2.375932228422926,2.498548963465983,3.7166510383421794,4.981623275700363,5.6455359576846895,6.121735335948125,6.45555398727473,6.644421236137181,6.758356092563757,6.819221602560513,6.835519970260864,6.817211768199183],"yaxis":"y","type":"scatter"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}},"xaxis":{"anchor":"y","domain":[0.0,0.98],"title":{"text":"size"},"type":"log","range":[-2.6989700043360183,0.30102999566398114]},"yaxis":{"anchor":"x","domain":[0.0,0.2275],"title":{"text":"value"}},"xaxis2":{"anchor":"y2","domain":[0.0,0.98],"matches":"x","showticklabels":false,"type":"log"},"yaxis2":{"anchor":"x2","domain":[0.2575,0.485],"title":{"text":"value"}},"xaxis3":{"anchor":"y3","domain":[0.0,0.98],"matches":"x","showticklabels":false,"type":"log"},"yaxis3":{"anchor":"x3","domain":[0.515,0.7425],"title":{"text":"value"}},"xaxis4":{"anchor":"y4","domain":[0.0,0.98],"matches":"x","showticklabels":false,"type":"log"},"yaxis4":{"anchor":"x4","domain":[0.7725,1.0],"title":{"text":"value"}},"annotations":[{"font":{},"showarrow":false,"text":"Al2O3","textangle":90,"x":0.98,"xanchor":"left","xref":"paper","y":0.11375,"yanchor":"middle","yref":"paper"},{"font":{},"showarrow":false,"text":"SiO2","textangle":90,"x":0.98,"xanchor":"left","xref":"paper","y":0.37124999999999997,"yanchor":"middle","yref":"paper"},{"font":{},"showarrow":false,"text":"Fe","textangle":90,"x":0.98,"xanchor":"left","xref":"paper","y":0.62875,"yanchor":"middle","yref":"paper"},{"font":{},"showarrow":false,"text":"mass_dry","textangle":90,"x":0.98,"xanchor":"left","xref":"paper","y":0.88625,"yanchor":"middle","yref":"paper"}],"legend":{"tracegroupgap":0},"margin":{"t":60},"title":{"text":"Sample"}},                        {"responsive": true}                    )                };                            </script>        </div>
</div>
<br />
<br /><p>Validate the head grade against the original sample</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">testing</span><span class="o">.</span><span class="n">assert_frame_equal</span><span class="p">(</span><span class="n">mc_size</span><span class="o">.</span><span class="n">aggregate</span><span class="p">()</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
                              <span class="n">mc_upsampled</span><span class="o">.</span><span class="n">aggregate</span><span class="p">()</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>

<span class="n">pd</span><span class="o">.</span><span class="n">testing</span><span class="o">.</span><span class="n">assert_frame_equal</span><span class="p">(</span><span class="n">mc_size</span><span class="o">.</span><span class="n">aggregate</span><span class="p">()</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
                              <span class="n">mc_upsampled_2</span><span class="o">.</span><span class="n">aggregate</span><span class="p">()</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
</pre></div>
</div>
<p>Complete a round trip by converting the up-sampled objects back to the original intervals and validate.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">orig_index</span> <span class="o">=</span> <span class="n">mc_size</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">to_dataframe</span><span class="p">()</span><span class="o">.</span><span class="n">index</span>
<span class="n">original_edges</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">unique</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">orig_index</span><span class="o">.</span><span class="n">left</span><span class="p">)</span> <span class="o">+</span> <span class="nb">list</span><span class="p">(</span><span class="n">orig_index</span><span class="o">.</span><span class="n">right</span><span class="p">)))</span>

<span class="n">mc_downsampled</span><span class="p">:</span> <span class="n">MassComposition</span> <span class="o">=</span> <span class="n">mc_upsampled</span><span class="o">.</span><span class="n">resample_1d</span><span class="p">(</span><span class="n">interval_edges</span><span class="o">=</span><span class="n">original_edges</span><span class="p">,</span> <span class="n">precision</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="n">mc_downsampled_2</span><span class="p">:</span> <span class="n">MassComposition</span> <span class="o">=</span> <span class="n">mc_upsampled_2</span><span class="o">.</span><span class="n">resample_1d</span><span class="p">(</span><span class="n">interval_edges</span><span class="o">=</span><span class="n">original_edges</span><span class="p">,</span> <span class="n">precision</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>

<span class="n">pd</span><span class="o">.</span><span class="n">testing</span><span class="o">.</span><span class="n">assert_frame_equal</span><span class="p">(</span><span class="n">mc_size</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">to_dataframe</span><span class="p">(),</span> <span class="n">mc_downsampled</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">to_dataframe</span><span class="p">())</span>
<span class="n">pd</span><span class="o">.</span><span class="n">testing</span><span class="o">.</span><span class="n">assert_frame_equal</span><span class="p">(</span><span class="n">mc_size</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">to_dataframe</span><span class="p">(),</span> <span class="n">mc_downsampled_2</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">to_dataframe</span><span class="p">())</span>
</pre></div>
</div>
<p class="sphx-glr-timing"><strong>Total running time of the script:</strong> ( 0 minutes  0.906 seconds)</p>
<div class="sphx-glr-footer sphx-glr-footer-example docutils container" id="sphx-glr-download-auto-examples-resampling-interval-data-py">
<div class="sphx-glr-download sphx-glr-download-python docutils container">
<p><a class="reference download internal" download="" href="../_downloads/c6b50812ecc24b6835b6d329c7e883a6/resampling_interval_data.py"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Python</span> <span class="pre">source</span> <span class="pre">code:</span> <span class="pre">resampling_interval_data.py</span></code></a></p>
</div>
<div class="sphx-glr-download sphx-glr-download-jupyter docutils container">
<p><a class="reference download internal" download="" href="../_downloads/073e157de6860283284de3d1698f0b22/resampling_interval_data.ipynb"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Jupyter</span> <span class="pre">notebook:</span> <span class="pre">resampling_interval_data.ipynb</span></code></a></p>
</div>
</div>
<p class="sphx-glr-signature"><a class="reference external" href="https://sphinx-gallery.github.io">Gallery generated by Sphinx-Gallery</a></p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="iron_ore_assays.html" class="btn btn-neutral float-left" title="Iron Ore Assays" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="xarray_examples/index.html" class="btn btn-neutral float-right" title="Xarray Gallery" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, Greg Elphick.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>